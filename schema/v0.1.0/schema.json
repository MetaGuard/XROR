{
  "$id": "https://metaguard.github.io/xror/schema/v0.1.0/schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Extended Reality Open Recording (XROR)",
  "description": "A recording consisting of motion data and events generated by a virtual or augmented reality application.",
  "type": "object",
  "properties": {
    "$id": {
      "type": [
        "string",
        "integer"
      ],
      "description": "A unique identifier for this recording"
    },
    "info": {
      "type": "object",
      "description": "Metadata about this recording",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of this recording"
        },
        "timestamp": {
          "type": "integer",
          "description": "Unix timestamp for the start of this recording"
        },
        "hardware": {
          "type": "object",
          "description": "Metadata about the hardware associated with this recording",
          "properties": {
            "devices": {
              "type": "array",
              "description": "The hardware devices associated with this recording",
              "minItems": 1,
              "items": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "The name of the hardware device"
                  },
                  "type": {
                    "type": "string",
                    "description": "The type of the hardware device",
                    "enum": [
                      "HMD",
                      "CONTROLLER",
                      "TRACKER",
                      "STYLUS",
                      "BODY",
                      "EYE",
                      "OTHER"
                    ]
                  },
                  "joint": {
                    "type": "string",
                    "description": "The location of the hardware device on the user's body",
                    "enum": [
                      "PELVIS",
                      "SPINE_NAVAL",
                      "SPINE_CHEST",
                      "NECK",
                      "CLAVICLE_LEFT",
                      "SHOULDER_LEFT",
                      "ELBOW_LEFT",
                      "WRIST_LEFT",
                      "HAND_LEFT",
                      "HANDTIP_LEFT",
                      "THUMB_LEFT",
                      "CLAVICLE_RIGHT",
                      "SHOULDER_RIGHT",
                      "ELBOW_RIGHT",
                      "WRIST_RIGHT",
                      "HAND_RIGHT",
                      "HANDTIP_RIGHT",
                      "THUMB_RIGHT",
                      "HIP_LEFT",
                      "KNEE_LEFT",
                      "ANKLE_LEFT",
                      "FOOT_LEFT",
                      "HIP_RIGHT",
                      "KNEE_RIGHT",
                      "ANKLE_RIGHT",
                      "FOOT_RIGHT",
                      "HEAD",
                      "NOSE",
                      "EYE_LEFT",
                      "EAR_LEFT",
                      "EYE_RIGHT",
                      "EAR_RIGHT",
                      "OTHER"
                    ]
                  },
                  "axes": {
                    "type": "array",
                    "description": "The names of the tracked dimensions associated with this device",
                    "minItems": 1,
                    "items": {
                      "type": "string"
                    }
                  },
                  "offsets": {
                    "type": "array",
                    "description": "The offsets of the tracked dimensions associated with this device relative to the origin",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "type",
                  "axes"
                ]
              }
            }
          },
          "required": [
            "devices"
          ]
        },
        "software": {
          "type": "object",
          "description": "Metadata about the software associated with this recording",
          "properties": {
            "api": {
              "type": "string",
              "description": "The API used by the application associated with this recording, such as OpenXR"
            },
            "runtime": {
              "type": "string",
              "description": "The runtime environment associated with this recording, such as SteamVR"
            },
            "app": {
              "type": "object",
              "description": "Metadata about the application associated with this recording",
              "properties": {
                "id": {
                  "type": [
                    "string",
                    "integer"
                  ],
                  "description": "A unique identifier for the application associated with this recording"
                },
                "name": {
                  "type": "string",
                  "description": "The name of the application associated with this recording"
                },
                "version": {
                  "type": "string",
                  "description": "The version number of the application associated with this recording"
                },
                "extensions": {
                  "type": "array",
                  "description": "Metadata about extensions to the application associated with this recording",
                  "items": {
                    "type": "object"
                  },
                  "properties": {
                    "id": {
                      "type": [
                        "string",
                        "integer"
                      ],
                      "description": "A unique identifier for the extension"
                    },
                    "name": {
                      "type": "string",
                      "description": "The name of the extension"
                    },
                    "version": {
                      "type": "string",
                      "description": "The version number of the extension"
                    }
                  }
                }
              }
            },
            "environment": {
              "type": "object",
              "description": "Metadata about the virtual environment associated with this recording",
              "properties": {
                "id": {
                  "type": [
                    "string",
                    "integer"
                  ],
                  "description": "A unique identifier for the environment associated with this recording"
                },
                "name": {
                  "type": "string",
                  "description": "The name of the virtual environment associated with this recording"
                }
              }
            },
            "activity": {
              "type": "object",
              "description": "Metadata about the activity associated with this recording",
              "properties": {
                "id": {
                  "type": [
                    "string",
                    "integer"
                  ],
                  "description": "A unique identifier for the activity associated with this recording"
                },
                "name": {
                  "type": "string",
                  "description": "The name of the activity associated with this recording"
                }
              }
            }
          }
        },
        "user": {
          "type": "object",
          "description": "Metadata about the user associated with this recording",
          "properties": {
            "id": {
              "type": [
                "string",
                "integer"
              ],
              "description": "A unique identifier for the user associated with this recording"
            },
            "name": {
              "type": "string",
              "description": "The name of the user associated with this recording"
            }
          }
        }
      },
      "required": [
        "hardware"
      ]
    },
    "frames": {
      "type": "array",
      "description": "The sequence of telemetry data frames comprising this recording",
      "minItems": 1,
      "items": {
        "type": "array",
        "minItems": 2,
        "description": "A telemetry data frame in this recording",
        "prefixItems": [
          {
            "type": "number",
            "description": "The time of the frame in seconds elapsed since the start of the recording"
          }
        ],
        "items": {
          "type": "number",
          "description": "The telemetry data associated with the frame; one number for each tracked axis specified in devices"
        }
      }
    },
    "events": {
      "type": "array",
      "description": "A sequence of events contained in this recording",
      "items": {
        "type": "object"
      },
      "properties": {
        "id": {
          "type": "string",
          "description": "A unique identifier for the type of event"
        },
        "name": {
          "type": "string",
          "description": "The name of the type of event"
        },
        "attr": {
          "type": "array",
          "description": "The names of the attributes associated with this type of event",
          "items": {
            "type": "string"
          }
        },
        "instances": {
          "type": "array",
          "description": "The occurrences of the event type contained in this recording",
          "prefixItems": [
            {
              "type": "number",
              "description": "The time of the event in seconds elapsed since the start of the recording"
            }
          ],
          "items": {
            "type": "number",
            "description": "The values of the attributes associated with this type of event; one entry for each attribute type specified in attr"
          }
        }
      }
    }
  },
  "required": [
    "info",
    "frames"
  ]
}
